#!/usr/bin/env ruby

require File.dirname(__FILE__)+'/../lib/swineherd' ; include Swineherd

Settings.define :column,    :default => "1", :type => String, :description => "At most two numbers, comma separated, indicating which columns to use. (zero indexed)"
Settings.define :bin_width, :default => 0.5, :type => Float,  :description => "A strong suggestion for the bin width."
Settings.define :num_bins,                   :type => Float,  :description => "A strong suggestion for the number of bins. Overrides bin_width"
Settings.define :dry_run,                                     :description => "Run a dry run, creating dummy plot with title, axis labels, etc"
Settings.define :xlab,      :default => "x", :type => String, :description => "Histogram x label"
Settings.define :ylab,      :default => "y", :type => String, :description => "Histogram y label"
Settings.define :title,     :default => "",  :type => String, :description => "Histogram title"
Settings.define :hdfs,                                        :description => "Flag indicating whether input path is an hdfs path. s3 and hdfs are mutually exclusive"
Settings.define :s3,                                          :description => "Flag indicating whether input path is an s3 block storage path. s3 and hdfs are mutually exclusive"

Settings.resolve!
options = Settings.dup

def r_ify_options opts
  opts[:title] = opts[:title].to_s
  opts
end

input      = options.rest.first
image_path = options.rest.last
